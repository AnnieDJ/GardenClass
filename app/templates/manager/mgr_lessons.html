  
	{% extends 'base.html' %}

  {% block title %}Lessons Details{% endblock %}
  
  {% block content %}
  <style>
    .container {
      font-family: "Times New Roman", sans-serif;
    }
    .back-arrow {
      position: absolute;
      top: 70px;
      left: 10px;
    }
  
    .back-arrow a {
      color: #2c662d;
      text-decoration: none;
      font-size: 30px;
    }
  
    .back-arrow a:hover {
      text-decoration: underline;
    }
    .btn {
      border: none;
      color: white;
      padding: 10px 10px;
      border-radius: 4px;
      cursor: pointer;
    }
  
    .btn-success {
      background-color: #4CAF50; /* Green for general actions */
    }
  
    .btn-primary {
      background-color: #007bff; /* Blue for edit actions */
    }
  
    .btn-danger {
      background-color: #f44336; /* Red for delete actions */
    }
  
    .table-striped > tbody > tr:nth-of-type(odd) {
      background-color: rgba(0,0,0,.05); /* Zebra striping for table */
    }
  
    .alert-info {
      color: #31708f;
      background-color: #d9edf7;
      border-color: #bce8f1;
      padding: 15px;
      border-radius: 4px;
    }
  </style>
  <div class="container mt-5">
    <h2>Lessons Details</h2>
    <div class="form-group row">
  
       
      <script>
        function filterCourses() {
          var statusFilter = document.getElementById("statusFilter").value;
          var dateFilter = document.getElementById("dateFilter").value;
          var memberIDFilter = document.getElementById("memberIDFilter").value;
          var instructorIDFilter =
            document.getElementById("instructorIDFilter").value; // Fixed method name

          // Get all table rows
          var rows = document.querySelectorAll("#coursesTable tbody tr");

          // Convert NodeList to an array to use array methods
          rows = Array.from(rows);

          rows.forEach(function (row) {
            var status = row.querySelector(".status").textContent;
            var date = row.querySelector(".date").textContent;
            var memberID = row.querySelector(".member_id").textContent;
            var instructorID = row.querySelector(".instructor_id").textContent;

            // Check if row meets all filter criteria
            var statusMatch = statusFilter === "" || status === statusFilter;
            var dateMatch = dateFilter === "" || date === dateFilter;
            var memberIDMatch =
              memberIDFilter === "" || memberID === memberIDFilter;
            var instructorIDMatch =
              instructorIDFilter === "" || instructorID === instructorIDFilter; // Corrected variable name

            if (
              statusMatch &&
              dateMatch &&
              memberIDMatch &&
              instructorIDMatch
            ) {
              // Corrected variable name
              row.style.display = ""; // show
            } else {
              row.style.display = "none"; // hide
            }
          });
        }
      </script>
    </head>
    <body>
      <div class="back-arrow">
        <a
          href="{{ url_for('manager_dashboard_different') }}"
          title="Go back to Dashboard"
          >&#x2190; Back</a
        >
      </div>

      <div class="main-content">
        <div class="filter-section">
          <form action="{{ url_for('manager_lessons') }}" method="GET">
            <label for="instructor_id">Instructor ID:</label>
            <input type="text" name="instructor_id" id="instructor_id" />

            <label for="member_id">Member ID:</label>
            <input type="text" name="member_id" id="member_id" />

            <label for="date">Date:</label>
            <input type="date" name="date" id="date" />

            <label for="location_id">Location ID:</label>
            <input type="text" name="location_id" id="location_id" />

            <input type="submit" value="Filter" />
          </form>
        </div>
  
            <div class="table-responsive">
              <table class="table table-striped">
                  <thead>
                      <tr>
                          <th>Instructor ID</th>
                          <th>Member ID</th>
                          <th>User name</th>
                          <th>First name</th>
                          <th>Last name</th>
                          <th>Date</th>
                          <th>Start Time</th>
                          <th>End Time</th>
                          <th>Location ID</th>
                          <th>Price</th>
                          <th>Status</th>
                      </tr>
                  </thead>
                  <tbody>
                      {% for lesson in one_on_one_lessons_data %}
                      <tr>
                          <td>{{ lesson['instructor_id'] }}</td>
                          <td>{{ lesson['member_id'] }}</td>
                          <td>{{ lesson['user_name'] }}</td>
                          <td>{{ lesson['first_name'] }}</td>
                          <td>{{ lesson['last_name'] }}</td>
                          <td>{{ lesson['date'] }}</td>
                          <td>{{ lesson['start_time'] }}</td>
                          <td>{{ lesson['end_time'] }}</td>
                          <td>{{ lesson['location_id'] }}</td>
                          <td>{{ lesson['price'] }}</td>
                          <td>{{ lesson['status'] }}</td>
                          <td>
                              <button class="btn btn-primary">Edit</button>
                              <button class="btn btn-danger">Cancel</button>
                          </td>
                      </tr>
                      {% endfor %}
                      <!-- Add Group Lessons in a similar manner if needed -->
                  </tbody>
              </table>
          </div>
            <div class="table-responsive">
              <table class="table table-striped">
                  <thead>
                    <tr>
                      <th>Instructor ID</th>
                      <th>User name</th>
                      <th>First name</th>
                      <th>Last name</th>
                      <th>Title</th>
                      <th>Date</th>
                      <th>Start Time</th>
                      <th>End Time</th>
                      <th>Location ID</th>
                      <th>Price</th>
                      <th>Capacity</th>
                      
                  </tr>
              </thead>
              <tbody>
                  {% for lesson in group_lessons_data %}
                  <tr>
                      <td>{{ lesson['instructor_id'] }}</td>
                      <td>{{ lesson['user_name'] }}</td>
                      <td>{{ lesson['first_name'] }}</td>
                      <td>{{ lesson['last_name'] }}</td>
                      <td>{{ lesson['title'] }}</td>
                      <td>{{ lesson['date'] }}</td>
                      <td>{{ lesson['start_time'] }}</td>
                      <td>{{ lesson['end_time'] }}</td>
                      <td>{{ lesson['location_id'] }}</td>
                      <td>{{ lesson['price'] }}</td>
                      <td>{{ lesson['capacity'] }}</td>
                      <td>
                              <button class="btn btn-primary">Edit</button>
                              <button class="btn btn-danger">Cancel</button>
                          </td>
                      </tr>
                      {% endfor %}
                  </tbody>
              </table>
            </div>

          <!-- Add your scripts if any -->
        </body>
      </html>
    </div>
  
    {% endblock %}