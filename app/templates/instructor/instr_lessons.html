  
	{% extends 'instructor/instr_dashboard.html' %}


  
  {% block content %}
  

  <!-- Breadcrumb -->
<section class="py-3 py-md-4 py-xl-5 bg-light">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <h1 class="h4">Lessons Management</h1>
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb m-0 fs-7">
            <li class="breadcrumb-item"><a class="link-primary text-decoration-none" href="{{ url_for('instructor_dashboard') }}">Home</a></li>
            <li class="breadcrumb-item">Lessons</li>
            <li class="breadcrumb-item active" aria-current="page">Details</li>
          </ol>
        </nav>
      </div>
    </div>
  </div>
</section>

  <section>
  <div class="container mt-5">
    <div class="form-group row">
  
       
        <script>
          function filterCourses() {
            // Get filter values
            var statusFilter = document.getElementById("statusFilter").value;
            var dateFilter = document.getElementById("dateFilter").value;
            var memberIDFilter = document.getElementById("memberIDFilter").value;
  
            // Get all table rows
            var rows = document.querySelectorAll("#coursesTable tbody tr");
  
            // Convert NodeList to an array to use array methods
            rows = Array.from(rows);
  
            rows.forEach(function (row) {
              var status = row.querySelector(".status").textContent;
              var date = row.querySelector(".date").textContent;
              var memberID = row.querySelector(".member_id").textContent;
  
              // Check if row meets all filter criteria
              var statusMatch = statusFilter === "" || status === statusFilter;
              var dateMatch = dateFilter === "" || date === dateFilter;
              var memberIDMatch =
                memberIDFilter === "" || memberID === memberIDFilter;
  
              if (statusMatch && dateMatch && memberIDMatch) {
                row.style.display = ""; // show
              } else {
                row.style.display = "none"; // hide
              }
            });
          }
        </script>
      </head>
      <body>
    </body>
    </div>

        <body>
          <div class="main-content">
            <!-- 过滤器部分、一对一课程卡片和课程卡片在同一水平线上 -->
            <div class="filter-section">
              <form action="{{ url_for('instructor_lessons') }}" method="get">
                <label for="statusFilter">Filter by status:</label>
                <select id="statusFilter" name="status">
                  <option value="">All Statuses</option>
                  <option value="Scheduled">Scheduled</option>
                  <option value="Cancelled">Cancelled</option>
                  <option value="Completed">Completed</option>
                </select>
  
                <label for="dateFilter">Filter by date:</label>
                <input type="date" id="dateFilter" name="date" placeholder="yyyy/mm/DD">
  
                <label for="memberIDFilter">Filter by Member ID:</label>
                <input type="number" id="memberIDFilter" name="member_id" min="1">
  
                <input type="submit" value="Filter">
              </form>
            </div>
  
            <div class="table-responsive">
              <table class="table table-striped">
                  <thead>
                      <tr>
                          <th>Member ID</th>
                          <th>User Name</th>
                          <th>First Name</th>
                          <th>Last Name</th>
                          <th>Date</th>
                          <th>Start Time</th>
                          <th>End Time</th>
                          <th>Location ID</th>
                          <th>Price</th>
                          <th>Status</th>
                          
                      </tr>
                  </thead>
                  <tbody>
                      {% for lesson in one_on_one_lessons %}
                      <tr>
                          <td>{{ lesson['member_id'] }}</td>
                          <td>{{ lesson['user_name'] }}</td>
                          <td>{{ lesson['first_name'] }}</td>
                          <td>{{ lesson['last_name'] }}</td>
                          <td>{{ lesson['date'] }}</td>
                          <td>{{ lesson['start_time'] }}</td>
                          <td>{{ lesson['end_time'] }}</td>
                          <td>{{ lesson['location_id'] }}</td>
                          <td>{{ lesson['price'] }}</td>
                          <td>{{ lesson['status'] }}</td>
                          <td>
                              <button class="btn btn-primary">Edit</button>
                              <button class="btn btn-danger">Cancel</button>
                          </td>
                      </tr>
                      {% endfor %}
                      <!-- Add Group Lessons in a similar manner if needed -->
                  </tbody>
              </table>
          </div>
          <div class="table-responsive">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Title</th>
                        <th>Date</th>
                        <th>Start Time</th>
                        <th>End Time</th>
                        <th>Location ID</th>
                        <th>Capacity</th>
                        <th>Price</th>
                    </tr>
                </thead>
                <tbody>
                    {% for lesson in group_lessons %}
                    <tr>
                        <td>{{ lesson['title'] }}</td>
                        <td>{{ lesson['date'] }}</td>
                        <td>{{ lesson['start_time'] }}</td>
                        <td>{{ lesson['end_time'] }}</td>
                        <td>{{ lesson['location_id'] }}</td>
                        <td>{{ lesson['capacity'] }}</td>
                        <td>{{ lesson['price'] }}</td>
                        <td>
                            <button class="btn btn-primary">Edit</button>
                            <button class="btn btn-danger">Cancel</button>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
          </div>

          <!-- Add your scripts if any -->
        </body>
      </html>
    </div>
  </section>
    {% endblock %}