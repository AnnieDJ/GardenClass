{% extends 'instructor/instr_dashboard.html' %} {% block content %}

<div class="back-arrow">
  <a href="{{ url_for('instructor_dashboard') }}" title="Go back to Dashboard"
    >&#x2190; Back</a
  >
</div>

<div class="news-container">
  <h1>Instructor's Greenboard</h1>

  <!-- Search form -->
  <form action="{{ url_for('instr_view_news') }}" method="get">
    <input type="text" name="title" placeholder="Search by title..." />
    <input type="date" name="date" />
    <button type="submit">Search</button>
  </form>

  {% if news_articles %}
  <!-- Table for news articles -->
  <table class="news-articles">
    <thead>
      <tr>
        <th>Title</th>
        <th>Content</th>
        <th>Date Published</th>
        <th>Released By</th>
        <th>Read More</th>
      </tr>
    </thead>
    <tbody>
      {% for article in news_articles %}
      <tr class="news-article">
        <td>{{ article.title }}</td>
        <td>{{ article.content }}</td>
        <td>{{ article.date_published.strftime('%d %B, %Y') }}</td>
        <td>{{ article.first_name }} {{ article.last_name }}</td>
        <td>
          <a href="{{ url_for('instr_news_details', news_id=article.news_id) }}"
            >Read more...</a
          >
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
  <p>No news to display.</p>
  {% endif %}
</div>
{% endblock %}
