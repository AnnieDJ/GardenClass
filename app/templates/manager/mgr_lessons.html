  
	{% extends 'manager/mgr_dashboard.html' %}

  {% block title %}Lessons Details{% endblock %}
  
  {% block content %}
  

<!-- Breadcrumb -->
<section class="py-3 py-md-4 py-xl-5 bg-light">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <h1 class="h4">Lessons Management</h1>
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb m-0 fs-7">
            <li class="breadcrumb-item"><a class="link-primary text-decoration-none" href="{{ url_for('manager_dashboard') }}">Home</a></li>
            <li class="breadcrumb-item">Lessons</li>
            <li class="breadcrumb-item active" aria-current="page">View All</li>
          </ol>
        </nav>
      </div>
    </div>
  </div>
</section>


<section>
  <div class="container mt-5">
    <div class="form-group row">
  
       
      <script>
        function filterCourses() {
          var statusFilter = document.getElementById("statusFilter").value;
          var dateFilter = document.getElementById("dateFilter").value;
          var memberIDFilter = document.getElementById("memberIDFilter").value;
          var instructorIDFilter =
            document.getElementById("instructorIDFilter").value; // Fixed method name

          // Get all table rows
          var rows = document.querySelectorAll("#coursesTable tbody tr");

          // Convert NodeList to an array to use array methods
          rows = Array.from(rows);

          rows.forEach(function (row) {
            var status = row.querySelector(".status").textContent;
            var date = row.querySelector(".date").textContent;
            var memberID = row.querySelector(".member_id").textContent;
            var instructorID = row.querySelector(".instructor_id").textContent;

            // Check if row meets all filter criteria
            var statusMatch = statusFilter === "" || status === statusFilter;
            var dateMatch = dateFilter === "" || date === dateFilter;
            var memberIDMatch =
              memberIDFilter === "" || memberID === memberIDFilter;
            var instructorIDMatch =
              instructorIDFilter === "" || instructorID === instructorIDFilter; // Corrected variable name

            if (
              statusMatch &&
              dateMatch &&
              memberIDMatch &&
              instructorIDMatch
            ) {
              // Corrected variable name
              row.style.display = ""; // show
            } else {
              row.style.display = "none"; // hide
            }
          });
        }
      </script>
    </head>
    <body>

      <div class="main-content">
        <div class="filter-section">
          <form action="{{ url_for('manager_lessons') }}" method="GET">
            <label for="instructor_id">Instructor ID:</label>
            <input type="text" name="instructor_id" id="instructor_id" />

            <label for="member_id">Member ID:</label>
            <input type="text" name="member_id" id="member_id" />

            <label for="date">Date:</label>
            <input type="date" name="date" id="date" />

            <label for="location_id">Location ID:</label>
            <input type="text" name="location_id" id="location_id" />

            <input type="submit" value="Filter" />
          </form>
        </div>
  
            <div class="table-responsive">
              <table class="table table-striped">
                  <thead>
                      <tr>
                          <th>Instructor ID</th>
                          <th>Member ID</th>
                          <th>User name</th>
                          <th>First name</th>
                          <th>Last name</th>
                          <th>Date</th>
                          <th>Start Time</th>
                          <th>End Time</th>
                          <th>Location ID</th>
                          <th>Price</th>
                          <th>Status</th>
                      </tr>
                  </thead>
                  <tbody>
                      {% for lesson in one_on_one_lessons_data %}
                      <tr>
                          <td>{{ lesson['instructor_id'] }}</td>
                          <td>{{ lesson['member_id'] }}</td>
                          <td>{{ lesson['user_name'] }}</td>
                          <td>{{ lesson['first_name'] }}</td>
                          <td>{{ lesson['last_name'] }}</td>
                          <td>{{ lesson['date'] }}</td>
                          <td>{{ lesson['start_time'] }}</td>
                          <td>{{ lesson['end_time'] }}</td>
                          <td>{{ lesson['location_id'] }}</td>
                          <td>{{ lesson['price'] }}</td>
                          <td>{{ lesson['status'] }}</td>
                          <td>
                              <button class="btn btn-primary">Edit</button>
                              <button class="btn btn-danger">Cancel</button>
                          </td>
                      </tr>
                      {% endfor %}
                      <!-- Add Group Lessons in a similar manner if needed -->
                  </tbody>
              </table>
          </div>
            <div class="table-responsive">
              <table class="table table-striped">
                  <thead>
                    <tr>
                      <th>Instructor ID</th>
                      <th>User name</th>
                      <th>First name</th>
                      <th>Last name</th>
                      <th>Title</th>
                      <th>Date</th>
                      <th>Start Time</th>
                      <th>End Time</th>
                      <th>Location ID</th>
                      <th>Price</th>
                      <th>Capacity</th>
                      
                  </tr>
              </thead>
              <tbody>
                  {% for lesson in group_lessons_data %}
                  <tr>
                      <td>{{ lesson['instructor_id'] }}</td>
                      <td>{{ lesson['user_name'] }}</td>
                      <td>{{ lesson['first_name'] }}</td>
                      <td>{{ lesson['last_name'] }}</td>
                      <td>{{ lesson['title'] }}</td>
                      <td>{{ lesson['date'] }}</td>
                      <td>{{ lesson['start_time'] }}</td>
                      <td>{{ lesson['end_time'] }}</td>
                      <td>{{ lesson['location_id'] }}</td>
                      <td>{{ lesson['price'] }}</td>
                      <td>{{ lesson['capacity'] }}</td>
                      <td>
                              <button class="btn btn-primary">Edit</button>
                              <button class="btn btn-danger">Cancel</button>
                          </td>
                      </tr>
                      {% endfor %}
                  </tbody>
              </table>
            </div>

          <!-- Add your scripts if any -->
        </body>
      </html>
    </div>
  </section>
  
    {% endblock %}